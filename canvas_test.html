<html>
	<head>
		<title>HTML5 Canvas</title>
		
		<script>
		
		// Store a variable for the current x position of the red box
		var x = 10;
		
		// Use a variable to store our player image
		var playerImage;

		
		function main()
		{
			// Loads necessary resources
			load();
			
			// Get a reference to our canvas by the specified ID
			var canvas = document.getElementById("canvas");
			
			// Set the width and height
			canvas.width = 640;
			canvas.height = 480;
			
			// Create the 2D drawing context
			var ctx = canvas.getContext('2d');
			
			// Call our draw function, passing in the context
			draw(ctx);

		}
		
		function load()
		{
			// Allocate a new image and assign it to our previous variable
			playerImage = new Image();
			
			// Set the src (the path of the image). This will be loaded by the
			// browser but may not be loaded immediately
			playerImage.src = "player_move1.png";
		}

		function keydown(event)
		{
			if(event.key == "ArrowLeft")
			{
				x--;
			}
			else if(event.key == "ArrowRight")
			{
				x++;
			}
		}
		
		function draw(ctx)
		{
			// Set clear color to gray and fetch width and height from canvas
			ctx.fillStyle = 'gray';
			ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
		
			// Draw player
			ctx.drawImage(playerImage, x, 10);
			
			// Ask the browser to call this function again as soon as it can
			window.requestAnimationFrame(function(){draw(ctx);});
		}
		
		window.onload = main;
		window.addEventListener("keydown", keydown);
		
		</script>
		
	</head>
	<body>
		<canvas id="canvas" style="background: gray"></canvas>
	</body>
</html>